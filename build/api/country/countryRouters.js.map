{"version":3,"sources":["../../../server/api/country/countryRouters.js"],"names":["countryRoutes","get","req","res","find","err","data","json","param","next","country","abbreviation","countryObject","locals","length","send"],"mappings":";;;;;;AAAA;;AACA;;AACA,IAAMA,gBAAgB,sBAAtB;;AAEA;AACAA,cAAcC,GAAd,CAAkB,GAAlB,EAAuB,UAACC,GAAD,EAAMC,GAAN,EAAc;AACjC,qBAAaC,IAAb,CAAkB,EAAlB,EAAsB,UAACC,GAAD,EAAMC,IAAN,EAAe;AACjCH,YAAII,IAAJ,CAASD,IAAT;AACH,KAFD;AAGH,CAJD;;AAMA;AACA;AACAN,cAAcQ,KAAd,CAAoB,SAApB,EAA+B,UAACN,GAAD,EAAMC,GAAN,EAAWM,IAAX,EAAiBC,OAAjB,EAA6B;AACxD,qBAAaN,IAAb,CAAkB,EAACO,cAAcD,OAAf,EAAlB,EAA2C,UAACL,GAAD,EAAMC,IAAN,EAAe;AACtD,YAAMM,gBAAgBN,KAAK,CAAL,CAAtB;AACAH,YAAIU,MAAJ,CAAWH,OAAX,GAAsBJ,KAAKQ,MAAL,KAAgB,CAAjB,GAAsBF,aAAtB,GAAsC,mBAA3D;AACAH;AACH,KAJD;AAKH,CAND;;AAQA;AACAT,cAAcC,GAAd,CAAkB,WAAlB,EAA+B,UAACC,GAAD,EAAMC,GAAN,EAAc;AACzCA,QAAIY,IAAJ,CAASZ,IAAIU,MAAJ,CAAWH,OAApB;AACH,CAFD;AAGA;;kBAEeV,a","file":"countryRouters.js","sourcesContent":["import {Router} from 'express';\r\nimport {CountryModel} from \"../../db/db\";\r\nconst countryRoutes = Router();\r\n\r\n//Inside root/countries route\r\ncountryRoutes.get('/', (req, res) => {\r\n    CountryModel.find({}, (err, data) => {\r\n        res.json(data);\r\n    })\r\n});\r\n\r\n//Inside root/countries/:country\r\n//Parameter handler\r\ncountryRoutes.param(\"country\", (req, res, next, country) => {\r\n    CountryModel.find({abbreviation: country}, (err, data) => {\r\n        const countryObject = data[0];\r\n        res.locals.country = (data.length !== 0) ? countryObject : \"No Country Found!\";\r\n        next();\r\n    });\r\n});\r\n\r\n//Route handler\r\ncountryRoutes.get('/:country', (req, res) => {\r\n    res.send(res.locals.country);\r\n});\r\n//End of root/countries/:country\r\n\r\nexport default countryRoutes;\r\n\r\n"]}